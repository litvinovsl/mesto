{"version":3,"file":"main.js","mappings":"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","sources":["webpack://yandex_praktikum_project_mesto/./src/components/FormValidator.js","webpack://yandex_praktikum_project_mesto/./src/components/Card.js","webpack://yandex_praktikum_project_mesto/./src/components/Section.js","webpack://yandex_praktikum_project_mesto/./src/components/Popup.js","webpack://yandex_praktikum_project_mesto/./src/components/PopupWithImage.js","webpack://yandex_praktikum_project_mesto/./src/components/PopupWithForm.js","webpack://yandex_praktikum_project_mesto/./src/components/UserInfo.js","webpack://yandex_praktikum_project_mesto/./src/components/Api.js","webpack://yandex_praktikum_project_mesto/./src/utils/constants.js","webpack://yandex_praktikum_project_mesto/./src/page/index.js"],"sourcesContent":["export default class FormValidator {\r\n  constructor(settings, popupForm) {\r\n    this._popupForm = popupForm;\r\n    this._formSelector = settings.formSelector;\r\n    this._inputSelector = settings.inputSelector;\r\n    this._buttonSelector = settings.buttonSelector;\r\n    this._inputError = settings.inputError;\r\n    this._inputSpanError = settings.inputSpanError;\r\n    this._buttonSelectorInactive = settings.buttonSelectorInactive;\r\n    this._inputs = Array.from(this._popupForm.querySelectorAll(this._inputSelector));\r\n    this._errors = Array.from(this._popupForm.querySelectorAll(settings.errorSelector));\r\n  }\r\n\r\n  _isValid(element) {\r\n    !element.validity.valid\r\n      ? this._showInputError(element)\r\n      : this._hideInputError(element);\r\n  }\r\n\r\n  _showInputError(element) {\r\n    const formError = this._popupForm.querySelector(`.${element.id}-error`);\r\n    \r\n    element.classList.add(this._inputError);\r\n    formError.textContent = element.validationMessage;\r\n    formError.classList.add(this._inputSpanError);\r\n  }\r\n\r\n  _hideInputError(element) {\r\n    const formError = this._popupForm.querySelector(`.${element.id}-error`);\r\n\r\n    element.classList.remove(this._inputError);\r\n    formError.classList.remove(this._inputSpanError);\r\n    formError.textContent = '';\r\n  }\r\n\r\n  _hasInvalidInput() {\r\n    return this._inputs.some((inputElement) => {\r\n      return !inputElement.validity.valid;\r\n    });\r\n  }\r\n\r\n  resetValidation() {\r\n    this._toggleButtonState();\r\n    this._inputs.forEach((inputElement) => {\r\n      this._hideInputError(inputElement);\r\n    });\r\n  }\r\n\r\n  _toggleButtonState() {\r\n    if (this._buttonSelector === null) { return }\r\n    if (this._hasInvalidInput()) {\r\n      this._button.classList.add(this._buttonSelectorInactive);\r\n      this._button.setAttribute('disabled', true);\r\n    } else {\r\n      this._button.classList.remove(this._buttonSelectorInactive);\r\n      this._button.removeAttribute('disabled');\r\n    }\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._button = this._popupForm.querySelector(this._buttonSelector);\r\n    this._toggleButtonState();\r\n    this._inputs.forEach((inputElement) => {\r\n      inputElement.addEventListener('input', () => {\r\n        this._isValid(inputElement);\r\n        this._toggleButtonState();\r\n      });\r\n    });\r\n  }\r\n\r\n  enableValidation() {\r\n    this._popupForm.addEventListener('submit', (evt) => {\r\n      evt.preventDefault();\r\n    });\r\n    this._setEventListeners();\r\n  }\r\n}","export default class Card {\r\n    constructor(data, cardSelector, handleCardClick, userId, handleCardLike) {\r\n        this._userId = userId;\r\n        this._cardId = data._id;\r\n        this._isYourCard = userId;\r\n        this._dataId = data.owner._id;\r\n        this._title = data.name;\r\n        this._image = data.link;\r\n        this._cardSelector = cardSelector;\r\n        this._data = data;\r\n        this._handleCardLike = handleCardLike;\r\n        this._handleCardClick = handleCardClick;\r\n        this._likes = data.likes;\r\n        // console.log(data)\r\n    }\r\n\r\n    _getTemplate() {\r\n        const cardElement = document.querySelector(this._cardSelector).content.querySelector('.element').cloneNode(true);\r\n        return cardElement;\r\n    }\r\n\r\n    generateCard() {\r\n        this._element = this._getTemplate();\r\n        this._elementImage = this._element.querySelector('.element__image');\r\n        this._elementCounterLike = this._element.querySelector('.element__like-counter');\r\n        this._setEventListeners();\r\n        this._elementImage.src = this._image;\r\n        this._elementImage.alt = this._title;\r\n        this._element.querySelector('.element__name').textContent = this._title;\r\n        if (!(this._isYourCard === this._dataId)) {\r\n            this._element.querySelector('.element__delete').remove();\r\n          };\r\n        this._toggleLikeState();\r\n\r\n        return this._element;\r\n    }\r\n\r\n    _checkLikesCard(){\r\n        const myLike = this._likes.some((item) => {\r\n            // console.log('userId: ' , this._userId);\r\n            // console.log('item.Id: ', item._id);\r\n            if (item._id === this._userId){\r\n                return true\r\n            } else {\r\n                return false\r\n            }\r\n            // item._id === this._userId;\r\n        });\r\n        // console.log(myLike);\r\n        return myLike\r\n        \r\n        \r\n    }\r\n\r\n    _updateLikes(data){\r\n        this._elementCounterLike.textContent = data.length;\r\n    }\r\n\r\n    setLike(){\r\n        this._element.querySelector('.element__like').classList.add('element__like_active');\r\n        this.isLiked = true;\r\n    }\r\n\r\n    unsetLike(){\r\n        this._element.querySelector('.element__like').classList.remove('element__like_active');\r\n        this.isLiked = false;       \r\n    }\r\n\r\n    _toggleLikeState() {\r\n        if (this._checkLikesCard()) {\r\n          this.setLike();\r\n        } else {\r\n          this.unsetLike();\r\n        }\r\n      }\r\n   \r\n    _setEventListeners() {\r\n        this._elementImage.addEventListener('click', () => {\r\n            this._handleCardClick(this._data);\r\n        });\r\n\r\n        this._element.querySelector('.element__like').addEventListener('click', (evt) => {\r\n            this._handleCardLike(evt);\r\n        });\r\n\r\n\r\n        // this._element.querySelector('.element__like').addEventListener('click', (evt) => {\r\n        //     if(this._checkLikesCard()){\r\n        //         evt.target.classList.add('element__like_active');\r\n        //         this.isLiked = true;\r\n        //     } else {\r\n        //         evt.target.classList.remove('element__like_active');\r\n        //         this.isLiked = false;\r\n        //     }\r\n        // });\r\n\r\n        this._element.querySelector('.element__delete').addEventListener('click', (evt) => {\r\n            this._element.remove();\r\n        });\r\n    }\r\n\r\n    getCardId(){\r\n        return this._cardId\r\n    }\r\n}","export default class Section {\r\n    constructor({renderer}, containerSelector){\r\n        this._renderer = renderer.bind(this);\r\n        this._container = document.querySelector(containerSelector);\r\n    }\r\n\r\n    renderItems(items) {\r\n        items.forEach(item => {\r\n            this._renderer(item);\r\n        });\r\n    }\r\n\r\n    addItem(element){\r\n        this._container.prepend(element)\r\n    }\r\n\r\n    addItems(elements){\r\n        this._container.append(elements);\r\n    }\r\n}","export default class Popup {\r\n    constructor(popupSelector){\r\n        this._popup = document.querySelector(popupSelector);\r\n        this._popupCloseButton = this._popup.querySelector('.popup__button-close');\r\n        this._popupOverlay = this._popup.querySelector('.popup__overlay');\r\n        this._handleEscClose = this._handleEscClose.bind(this);\r\n    }\r\n\r\n    open(){\r\n        this._popup.classList.add('popup_opened');\r\n        document.addEventListener('keyup', this._handleEscClose);\r\n    }\r\n\r\n    close(){\r\n        this._popup.classList.remove('popup_opened');\r\n        document.removeEventListener(\"keyup\", this._handleEscClose);\r\n    }\r\n\r\n    _handleEscClose(e) {\r\n        if (e.key === \"Escape\") {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    setEventListeners(){\r\n        this._popupOverlay.addEventListener('click', () => {\r\n            this.close();\r\n        });\r\n        this._popupCloseButton.addEventListener('click', () => {\r\n            this.close();\r\n        });\r\n    }\r\n}","import Popup from \"./Popup.js\";\r\n\r\nexport default class PopupWithImage extends Popup{\r\n    constructor(popupSelector){\r\n        super(popupSelector);\r\n        this._popupImage = this._popup.querySelector('.popup__image');\r\n        this._popupName = this._popup.querySelector('.popup__img-name');\r\n    }\r\n\r\n    open(imageName, imageLink){\r\n        this._popupImage.src = imageLink;\r\n        this._popupImage.alt = imageName;\r\n        this._popupName.textContent = imageName;\r\n        super.open();\r\n    }  \r\n}","import Popup from \"./Popup.js\";\r\n\r\nexport default class PopupWithForm extends Popup {\r\n    constructor(popupSelector, handleSubmitButton){\r\n        super(popupSelector);\r\n        this._handleSubmitButton = handleSubmitButton;\r\n        this._form = this._popup.querySelector('.popup__form');\r\n        this._inputList = this._form.querySelectorAll('.popup__input');\r\n    }\r\n\r\n    fillInputs(data){\r\n        this._inputList.forEach(input => {\r\n            input.value = data[input.name];\r\n        });\r\n    }\r\n\r\n    _getInputValues(){\r\n        const inputValues = {};\r\n\r\n        this._inputList.forEach(input => {\r\n            inputValues[input.name] = input.value;\r\n        });\r\n        return inputValues\r\n    }\r\n\r\n    setEventListeners(){\r\n        this._form.addEventListener('submit',() => {\r\n            this._handleSubmitButton(this._getInputValues());\r\n            this.close();\r\n        } );\r\n        super.setEventListeners();\r\n    }\r\n\r\n    close(){\r\n        super.close();\r\n        this._form.reset();\r\n    }\r\n    \r\n}","export default class UserInfo {\r\n    constructor({nameSelector, aboutSelector, avatarSelector}){\r\n        this._nameElement = document.querySelector(nameSelector);\r\n        this._aboutElement = document.querySelector(aboutSelector);\r\n        this._avatarElement = document.querySelector(avatarSelector);\r\n    }\r\n\r\n    getUserInfo(){\r\n        return {\r\n            name: this._nameElement.textContent,\r\n            about: this._aboutElement.textContent\r\n        }\r\n    }\r\n\r\n    setUserInfo({name, about}){\r\n        this._nameElement.textContent = name;\r\n        this._aboutElement.textContent = about;\r\n    }\r\n\r\n    setUserAvatar({ avatarLink }) {\r\n        this._avatarElement.src = avatarLink;\r\n      }\r\n    \r\n    setUserId(id){\r\n        this._userId = id;\r\n    }\r\n\r\n    getUserId(){\r\n        return this._userId;\r\n    }\r\n}","export default class Api {\r\n    constructor({ baseUrl, headers }) {\r\n        this._headers = headers;\r\n        this._baseUrl = baseUrl;\r\n    }\r\n\r\n    _checkReply(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        } else {\r\n            console.log('!!!!!!!!!!!!!!!!!res.ok');\r\n            return Promise.reject(`${res.status} ${res.statusText}`);\r\n        }\r\n    }\r\n\r\n    getInitialCards() {\r\n        const newUrl = this._baseUrl + '/cards';\r\n        return fetch(newUrl, {\r\n            headers: this._headers,\r\n        }).then(this._checkReply);\r\n    }\r\n\r\n    _getUserInfo() {\r\n        const newUrl = this._baseUrl + '/users/me';\r\n        return fetch(newUrl, {\r\n            headers: this._headers,\r\n        }).then(this._checkReply);\r\n    }\r\n\r\n    updateUserInfo({ name, about }) {\r\n        console.log('updateUserInfo');\r\n        const newUrl = this._baseUrl + '/users/me';\r\n        return fetch(newUrl, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({ name, about }),\r\n        }).then(this._checkReply);\r\n    }\r\n\r\n    addCards() {\r\n        const newUrl = this._baseUrl + '/cards'\r\n        return fetch(newUrl, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkReply);\r\n    }\r\n\r\n    addNewCard(data) {\r\n        const newUrl = this._baseUrl + '/cards';\r\n        return fetch(newUrl, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data),\r\n        }).then(this._checkReply);\r\n    }\r\n\r\n    updateProfileAvatar({ avatar }) {\r\n        const newUrl = this._baseUrl + `/users/me/avatar`;\r\n        return fetch(newUrl, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({ avatar }),\r\n        }).then(this._checkReply);\r\n    }\r\n\r\n    addCardLike(cardId) {\r\n        const requestUrl = this._baseUrl + `/cards/likes/${cardId}`;\r\n        return fetch(requestUrl, {\r\n          method: 'PUT',\r\n          headers: this._headers,\r\n        }).then(this._checkReply);\r\n    }\r\n\r\n    deleteCardLike(cardId) {\r\n        const requestUrl = this._baseUrl + `/cards/likes/${cardId}`;\r\n        return fetch(requestUrl, {\r\n          method: 'DELETE',\r\n          headers: this._headers,\r\n        }).then(this._checkReply);\r\n    }\r\n\r\n    _getInitialCards() {\r\n        const newUrl = this._baseUrl + '/cards';\r\n        return fetch(newUrl, {\r\n          headers: this._headers,\r\n        }).then(this._checkReply);\r\n    }\r\n\r\n    getPageData(){\r\n        return Promise.all([this._getInitialCards(), this._getUserInfo()]);\r\n    }\r\n\r\n\r\n\r\n\r\n    // другие методы работы с API\r\n}\r\n\r\n","export const editButt = document.querySelector('.profile__edit-butt');\r\nexport const editUserForm = document.querySelector('#popup-user');\r\nexport const plusButt = document.querySelector('.profile__add-button');\r\nexport const popupCreate = document.querySelector('#popup-create');\r\nexport const avatarBatton = document.querySelector('.profile__avatar-button');\r\nexport const updateAvatarForm = document.querySelector('#form-avatar');\r\nexport const profileAvatar = document.querySelector('.profile__avatar');\r\nexport const validationSettings = {\r\n    formSelector: '.popup__form',\r\n    inputSelector: '.popup__input',\r\n    buttonSelector: '.popup__button-save',\r\n    inputError: 'popup__input_error',\r\n    errorSelector: '.popup__input-error',\r\n    inputSpanError: 'popup__input-error_active',\r\n    buttonSelectorInactive: 'popup__button-save_inactive'\r\n};\r\n","import './index.css';\r\nimport FormValidator from '../components/FormValidator.js';\r\nimport Card from '../components/Card.js';\r\nimport Section from '../components/Section.js';\r\nimport PopupWithImage from '../components/PopupWithImage.js';\r\nimport PopupWithForm from '../components/PopupWithForm.js';\r\nimport UserInfo from '../components/UserInfo.js';\r\nimport Api from '../components/Api.js';\r\nimport {\r\n  editButt,\r\n  editUserForm,\r\n  plusButt,\r\n  popupCreate,\r\n  validationSettings,\r\n  avatarBatton,\r\n  updateAvatarForm,\r\n} from '../utils/constants.js';\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-40',\r\n  headers: {\r\n    authorization: '6cbd57a7-9435-4249-951e-f8947dba9801',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}); \r\n\r\napi.getPageData().then((responses) => {\r\n  const [cardArr, userData] = responses;\r\n  userInfo.setUserAvatar({avatarLink: userData.avatar});\r\n  userInfo.setUserInfo(userData);\r\n  userInfo.setUserId(userData._id);\r\n  cardSection.renderItems(cardArr);\r\n  console.log(responses);\r\n}).catch((err) => {\r\n  console.log(err);\r\n});\r\n\r\n//=====================================\r\n\r\n// const card = new Card(item, '#card-template', (data) => {\r\n//   imagePopup.open(data.name, data.link);\r\n// }, userInfo.getUserId(),() =>{\r\n//   if (card.isLiked){\r\n//     api.deleteCardLike(card.getCardId())\r\n//       .then((data) =>{\r\n//         console.log('deletelike');\r\n//       });\r\n//   } else {\r\n//     api.addCardLike(card.getCardId())\r\n//       .then((data) => {\r\n//       // card.unsetLike()\r\n//       console.log('addlike');\r\n//     });\r\n//   }\r\n// });\r\n\r\n//========================================================================================\r\n\r\nfunction createCard(item){\r\n  const card = new Card(item, '#card-template', (data) => {\r\n    imagePopup.open(data.name, data.link);\r\n  }, userInfo.getUserId(),() =>{\r\n    if (card.isLiked){\r\n      api.deleteCardLike(card.getCardId())\r\n        .then((data) =>{\r\n          card.unsetLike();\r\n          console.log('deletelike');\r\n        });\r\n    } else {\r\n      api.addCardLike(card.getCardId())\r\n        .then((data) => {\r\n          card.setLike();\r\n        // card.unsetLike()\r\n        console.log('addlike');\r\n      });\r\n    }\r\n  });\r\n  // const card = new Card(item, '#card-template', (data) => {\r\n  //   imagePopup.open(data.name, data.link);\r\n  // }, userInfo.getUserId());\r\n  // if (card.isLiked){\r\n  //   deleteCardLike(card.getCardId())\r\n  //     .then((data) =>{\r\n  //       console.log('deletelike');\r\n  //     });\r\n  // } else {\r\n    // api.addCardLike(card.getCardId())\r\n    //   .then((data) => {\r\n    //   // card.unsetLike()\r\n    //   console.log('addlike');\r\n  //   });\r\n  // }\r\n  \r\n  const cardElement = card.generateCard();\r\n  return cardElement\r\n}\r\n\r\n//==============================================================================================================\r\n//все с профилем\r\n\r\nconst userInfo = new UserInfo({\r\n  nameSelector: '.profile__username', \r\n  aboutSelector: '.profile__about-user', \r\n  avatarSelector: '.profile__avatar'\r\n});\r\n\r\nconst popupUser = new PopupWithForm('#popup-user', (user) => {\r\n  api.updateUserInfo({name: user.name, about: user.about})\r\n    .then((data) => {\r\n      userInfo.setUserInfo(data);\r\n    });\r\n});\r\npopupUser.setEventListeners();\r\neditButt.addEventListener('click', function () {\r\n\r\n  const data = userInfo.getUserInfo();\r\n  popupUser.fillInputs(data);\r\n  editPopupValidator.resetValidation();\r\n  popupUser.open();\r\n});\r\n\r\n//==========================================================================\r\n//все для аватара\r\n\r\nconst popupAvatar = new PopupWithForm('#popup-update-avatar', (user) => {\r\napi.updateProfileAvatar({avatar: user.link}).then((data) => {\r\n  userInfo.setUserAvatar({avatarLink: data.avatar});\r\n});\r\n\r\n\r\n});\r\n\r\npopupAvatar.setEventListeners();\r\n\r\navatarBatton.addEventListener('click', function(){\r\n  avatarFormValidation.resetValidation();\r\n  popupAvatar.open();\r\n})\r\n\r\n//==========================================================================\r\n//Валидация\r\n\r\nconst editPopupValidator = new FormValidator(validationSettings, editUserForm);\r\nconst createPopupValidator = new FormValidator(validationSettings, popupCreate);\r\nconst avatarFormValidation = new FormValidator(validationSettings, updateAvatarForm);\r\navatarFormValidation.enableValidation();\r\neditPopupValidator.enableValidation();\r\ncreatePopupValidator.enableValidation();\r\n\r\n//===========================================================================\r\n//================================================================================================================\r\n//все с карточками\r\n\r\nconst popupCreateCard = new PopupWithForm('#popup-create', (item) => {\r\n  api.addNewCard(item).then((data) => {\r\n    const cardElement = createCard(data);\r\n    cardSection.addItem(cardElement);\r\n});\r\n  console.log(item);\r\n});\r\npopupCreateCard.setEventListeners();\r\n\r\nplusButt.addEventListener('click', function(){\r\n  createPopupValidator.resetValidation();\r\n  popupCreateCard.open();\r\n});\r\n\r\n//==================================================\r\n\r\nconst imagePopup = new PopupWithImage('#popup-card');\r\nimagePopup.setEventListeners();\r\n\r\nconst cardSection = new Section({\r\n  renderer: function(item) {\r\n    const cardElement = createCard(item);\r\n    this.addItems(cardElement);\r\n    \r\n  },  \r\n}, '.elements');\r\n\r\n"],"names":["FormValidator","settings","popupForm","this","_popupForm","_formSelector","formSelector","_inputSelector","inputSelector","_buttonSelector","buttonSelector","_inputError","inputError","_inputSpanError","inputSpanError","_buttonSelectorInactive","buttonSelectorInactive","_inputs","Array","from","querySelectorAll","_errors","errorSelector","element","validity","valid","_hideInputError","_showInputError","formError","querySelector","id","classList","add","textContent","validationMessage","remove","some","inputElement","_toggleButtonState","forEach","_hasInvalidInput","_button","setAttribute","removeAttribute","addEventListener","_isValid","evt","preventDefault","_setEventListeners","Card","data","cardSelector","handleCardClick","userId","handleCardLike","_userId","_cardId","_id","_isYourCard","_dataId","owner","_title","name","_image","link","_cardSelector","_data","_handleCardLike","_handleCardClick","_likes","likes","document","content","cloneNode","_element","_getTemplate","_elementImage","_elementCounterLike","src","alt","_toggleLikeState","item","length","isLiked","_checkLikesCard","setLike","unsetLike","Section","containerSelector","renderer","_renderer","bind","_container","items","prepend","elements","append","Popup","popupSelector","_popup","_popupCloseButton","_popupOverlay","_handleEscClose","removeEventListener","e","key","close","PopupWithImage","_popupImage","_popupName","imageName","imageLink","PopupWithForm","handleSubmitButton","_handleSubmitButton","_form","_inputList","input","value","inputValues","_getInputValues","reset","UserInfo","nameSelector","aboutSelector","avatarSelector","_nameElement","_aboutElement","_avatarElement","about","avatarLink","Api","baseUrl","headers","_headers","_baseUrl","res","ok","json","console","log","Promise","reject","status","statusText","newUrl","fetch","then","_checkReply","method","body","JSON","stringify","avatar","cardId","requestUrl","all","_getInitialCards","_getUserInfo","editButt","editUserForm","plusButt","popupCreate","avatarBatton","updateAvatarForm","validationSettings","api","authorization","createCard","card","imagePopup","open","userInfo","getUserId","deleteCardLike","getCardId","addCardLike","generateCard","getPageData","responses","cardArr","userData","setUserAvatar","setUserInfo","setUserId","cardSection","renderItems","catch","err","popupUser","user","updateUserInfo","setEventListeners","getUserInfo","fillInputs","editPopupValidator","resetValidation","popupAvatar","updateProfileAvatar","avatarFormValidation","createPopupValidator","enableValidation","popupCreateCard","addNewCard","cardElement","addItem","addItems"],"sourceRoot":""}